/**
* @file ImageUIController.cs
* @brief UI.Image????????????????//
* @author ?? ??
* @date 2022/07/07
* @details TextureManager?????Sprite???????????????????
*/

using System.Collections;
using System.Collections.Generic;
using UnityEngine;

/**
* @brief Canvas???????????Image????????????????
* @details UnityEngine.UI.Image?????????????TextureManager?????????????????
*/
public class ImageUIController : MonoBehaviour
{

    //! ImageUIController?????Sprite?????????//
    [SerializeField]
    UnityEngine.UI.Image targetImageObject = null;

    //! ??????????????TextureManager??????//
    [SerializeField]
    TextureManager manager = null;

    /**
    * @fn public void SetTexture(in int _no)
    * @param[in] int(_no) ?????????
    * @details TextureManager?????????????Sprite???????
    */
    public void SetTexture(int _no)
    {
        if (manager == null) return;
        if (targetImageObject == null) return;

        Texture2D tex = manager.GetTexture(_no);

        if (tex == null) return;

        targetImageObject.sprite = Sprite.Create(tex, new Rect(0.0f, 0.0f, tex.width, tex.height), Vector2.zero);
    }

    /**
    * @fn public void SetImageObject(in UnityEngine.UI.Image _imageObject)
    * @param[in] UnityEngine.UI.Image(_imageObject) ????Sprite???Image??????
    * @details ???????Sprite???UnityEngine.UI.Image????????????????
    */
    public void SetImageObject(in UnityEngine.UI.Image _imageObject)
    {
        if (_imageObject == null) return;

        targetImageObject = _imageObject;
    }

    /**
    * @fn public void SetTextureManager(in TextureManager _manager)
    * @param[in] TextureManager(_manager) ???????TextureManager??????
    * @details ??????TextureManager??????????
    */
    public void SetTextureManager(in TextureManager _manager)
    {
        if (_manager == null) return;

        manager = _manager;
    }

}
